\section{Εισαγωγή}
Οι στοίβες και οι ουρές αποτελούν απλές δομές δεδομένων που είναι ιδιαίτερα χρήσιμες στην επίλυση αλγοριθμικών προβλημάτων. Η στοίβα είναι μια λίστα στοιχείων στην οποία τα νέα στοιχεία τοποθετούνται στην κορυφή και όταν πρόκειται να αφαιρεθεί ένα στοιχείο αυτό πάλι συμβαίνει από την κορυφή των στοιχείων της στοίβας. Από την άλλη μεριά, η ουρά είναι επίσης μια λίστα στοιχείων στην οποία όμως οι εισαγωγές γίνονται στο πίσω άκρο της ουράς ενώ οι εξαγωγές πραγματοποιούνται από το εμπρός άκρο της ουράς. Στο εργαστήριο αυτό θα παρουσιαστούν υλοποιήσεις της στοίβας και της ουράς. Επιπλέον, θα παρουσιαστούν οι δομές της STL std::stack και std::queue.
Ο κώδικας όλων των παραδειγμάτων βρίσκεται στο \href{https://github.com/chgogos/ceteiep_dsa}{https://github.com/chgogos/ceteiep\_dsa}.

\section{Στοίβα}
Η στοίβα (stack) είναι μια ειδική περίπτωση γραμμικής λίστας στην οποία οι εισαγωγές και οι διαγραφές επιτρέπονται μόνο από το ένα άκρο. Συνήθως αυτό το άκρο λέγεται κορυφή (top). Πρόκειται για μια δομή στην οποία οι εισαγωγές και οι εξαγωγές γίνονται σύμφωνα με τη μέθοδο τελευταίο μέσα πρώτο έξω (LIFO=Last In First Out).

Στον κώδικα \ref{lst:stack_oo.cpp} παρουσιάζεται μια υλοποίηση στοίβας που χρησιμοποιεί για την αποθήκευση των στοιχείων της έναν πίνακα. Εναλλακτικά, στη θέση του πίνακα μπορεί να χρησιμοποιηθεί συνδεδεμένη λίστα. Μια υλοποίηση στη γλώσσα C μπορεί να βρεθεί στην αναφορά \cite{tcc_stack_linked_list}, ενώ στην εργασία \cite{stroustrup_stack} παρουσιάζονται 16(!) διαφορετικοί τρόποι υλοποίησης της στοίβας στην C++. 

Στο παράδειγμα που ακολουθεί ωθούνται σε μια στοίβα τα γράμματα της αγγλικής αλφαβήτου (Α-Ζ) και στη συνέχεια απωθούνται ένα προς ένα και μέχρι η στοίβα να αδειάσει.
\lstinputlisting[caption = Υλοποίηση στοίβας (stack\_oo.cpp),label=lst:stack_oo.cpp]{lab05/stack_oo.cpp}

\lstinputlisting[style=DOS]{lab05/stack_oo.out}

\section{Ουρά}
Η ουρά (queue) είναι μια ειδική περίπτωση γραμμικής λίστας στην οποία επιτρέπονται εισαγωγές στο πίσω άκρο της και εξαγωγές από το εμπρός άκρο της μόνο. Τα δύο αυτά άκρα συνήθως αναφέρονται ως πίσω (rear) και εμπρός (front) αντίστοιχα. Η ουρά είναι μια δομή στην οποία οι εισαγωγές και οι εξαγωγές γίνονται σύμφωνα με τη μέθοδο πρώτο μέσα πρώτο έξω (FIFO=First In First Out).

Στη συνέχεια παρουσιάζεται μια υλοποίηση ουράς στην οποία τα δεδομένα της τοποθετούνται σε έναν πίνακα (εναλλακτικά θα μπορούσε να είχε χρησιμοποιηθεί μια άλλη δομή όπως για παράδειγμα η συνδεδεμένη λίστα). Ο πίνακας λειτουργεί κυκλικά, δηλαδή όταν συμπληρωθεί και εφόσον υπάρχουν διαθέσιμες κενές θέσεις στην αρχή του πίνακα, τα νέα στοιχεία που πρόκειται να εισαχθούν στην ουρά τοποθετούνται στις πρώτες διαθέσιμες, ξεκινώντας από την αρχή του πίνακα, θέσεις.

\lstinputlisting[caption = Υλοποίηση ουράς (queue\_oo.cpp),label=lst:queue_oo.cpp]{lab05/queue_oo.cpp}

\lstinputlisting[style=DOS]{lab05/queue_oo.out}

\section{Οι δομές στοίβα και ουρά στην STL}
Οι δομές std::stack και std::queue έχουν υλοποιηθεί στην STL ως container adaptors δηλαδή κλάσεις που χρησιμοποιούν εσωτερικά ένα άλλο container και παρέχουν ένα συγκεκριμένο σύνολο από λειτουργίες που επιτρέπουν την προσπέλαση και την τροποποίηση των στοιχείων τους. 

\subsection{std::stack}
Το προκαθορισμένο εσωτερικό container που χρησιμοποιεί η std::stack είναι το std::deque. Ωστόσο, μπορούν να χρησιμοποιηθούν και τα std::vector και std::list καθώς και τα τρία αυτά containers παρέχουν τις λειτουργίες empty(), size(), push\_back(), pop\_back() και back() που απαιτούνται για να υλοποιηθεί το stack interface \cite{scobey_stl_stack}. Τυπικές λειτουργίες που παρέχει η std::stack είναι οι ακόλουθες:
\begin{itemize}[noitemsep]
\item empty(), ελέγχει αν η στοίβα είναι άδεια.
\item size(), επιστρέφει το μέγεθος της στοίβας.
\item top(), προσπελαύνει το στοιχείο που βρίσκεται στη κορυφή της στοίβας (χωρίς να το αφαιρεί).
\item push(), ωθεί ένα στοιχείο στη κορυφή της στοίβας
% \item emplace, δημιουργεί και εισάγει ένα στοιχείο στη κορυφή της στοίβας.
\item pop(), αφαιρεί το στοιχείο που βρίσκεται στη κορυφή της στοίβας.
% \item swap, αντιμεταθέτει τα περιεχόμενα από δύο στοίβες.
\end{itemize}

Ένα παράδειγμα χρήσης της std::stack παρουσιάζεται στη συνέχεια.

\lstinputlisting[caption = Παράδειγμα χρήσης της std::stack (stl\_stack\_example.cpp)]{lab05/stl_stack_example.cpp}

\lstinputlisting[style=DOS]{lab05/stl_stack_example.out}


\subsection{std::queue}
Στην περίπτωση του std::queue το εσωτερικό container μπορεί να είναι κάποιο από τα containers std::dequeue, std::list (προκαθορισμένη επιλογή) ή οποιοδήποτε container που υποστηρίζει τις λειτουργίες empty(), size(), front(), back(), push\_back() και pop\_front() \cite{scobey_stl_queue}. Τυπικές λειτουργίες που παρέχει η std::queue είναι οι ακόλουθες:
\begin{itemize}[noitemsep]
\item empty(), ελέγχει αν η ουρά είναι άδεια.
\item size(), επιστρέφει το μέγεθος της ουράς.
\item front(), προσπελαύνει το στοιχείο που βρίσκεται στο εμπρός άκρο της ουράς (χωρίς να το αφαιρεί).
\item back(), προσπελαύνει το στοιχείο που βρίσκεται στο πίσω άκρο της ουράς (χωρίς να το αφαιρεί).
\item push(), εισάγει ένα στοιχείο στο πίσω άκρο της ουράς
\item pop(), εξάγει το στοιχείο που βρίσκεται στο εμπρός άκρο της ουράς.
\end{itemize}

Ένα παράδειγμα χρήσης της std::queue παρουσιάζεται στη συνέχεια.
\lstinputlisting[caption = Παράδειγμα χρήσης της std::queue (stl\_queue\_example.cpp)]{lab05/stl_queue_example.cpp}

\lstinputlisting[style=DOS]{lab05/stl_queue_example.out}

\section{Παραδείγματα}
\subsection{Παράδειγμα 1}
Να γραφεί πρόγραμμα που να δέχεται μια φράση ως παράμετρο γραμμής εντολών (command line argument) και να εμφανίζει το εάν είναι παλινδρομική ή όχι. Μια φράση είναι παλινδρομική όταν διαβάζεται η ίδια από αριστερά προς τα δεξιά και από δεξιά προς τα αριστερά.
\lstinputlisting[caption = Έλεγχος παλινδρομικής φράσης (lab05\_ex1.cpp)]{lab05/lab05_ex1.cpp}

\lstinputlisting[style=DOS]{lab05/lab05_ex1.out}

\subsection{Παράδειγμα 2}
Να γραφεί πρόγραμμα που να δέχεται ένα δυαδικό αριθμό ως λεκτικό και να εμφανίζει την ισοδύναμη δεκαδική του μορφή.
\lstinputlisting[caption = Μετατροπή δυαδικού σε δεκαδικό (lab05\_ex2.cpp)]{lab05/lab05_ex2.cpp}

\lstinputlisting[style=DOS]{lab05/lab05_ex2.out}

% \subsection{Παράδειγμα 3}

\section{Ασκήσεις}
\begin{enumerate}
\item Να υλοποιηθεί η δομή της ουράς χρησιμοποιώντας αντικείμενα στοίβας (std::stack) και τις λειτουργίες που επιτρέπονται σε αυτά. Υλοποιήστε τις λειτουργίες της ουράς empty(), size(), enqueue(), dequeue() και front().
\item Να υλοποιηθεί η δομή της στοίβας χρησιμοποιώντας αντικείμενα ουράς (std::queue) και τις λειτουργίες που επιτρέπονται σε αυτά. Υλοποιήστε τις λειτουργίες της στοίβας empty(), size(), push(), pop() και top().
\end{enumerate}

\begin{thebibliography}{9}
\bibitem{stroustrup_stack}
Sixteen Ways To Stack a Cat, by Bjarne Stroustrup \href{http://www.stroustrup.com/stack_cat.pdf}{http://www.stroustrup.com/stack\_cat.pdf}

\bibitem{tcc_stack_linked_list}
Tech Crash Course,  C Program to Implement a Stack using Singly Linked List, \href{http://www.techcrashcourse.com/2016/06/c-program-implement-stack-using-linked-list.html}{http://www.techcrashcourse.com/2016/06/c-program-implement-stack-using-linked-list.html}

\bibitem{scobey_stl_stack}
C++ Reference Material by Porter Scobey, The STL stack Container Adaptor \href{http://cs.stmarys.ca/~porter/csc/ref/stl/cont_stack.html}{http://cs.stmarys.ca/~porter/csc/ref/stl/cont\_stack.html}

\bibitem{scobey_stl_queue}
C++ Reference Material by Porter Scobey, The STL queue Container Adaptor \href{http://cs.stmarys.ca/~porter/csc/ref/stl/cont_queue.html}{http://cs.stmarys.ca/~porter/csc/ref/stl/cont\_queue.html}

\end{thebibliography}

